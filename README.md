# 埋点原始数据分析

## 原始数据

### 访问时间

#### web server

##### Nginx.$msec

### ip

#### web server

##### Nginx.$remote_addr

### 域名

#### js

##### document.domain

### URL

#### js

##### document.URL

###### 可以获取部分用户行为

####### 分析用户点击顺序

####### 分析当前用户所在模块

### 页面标题

#### js

##### document.title

###### 可以获取部分用户行为

### 分辨率

#### js

##### window.screen.height或width

###### 获取用户行为前提

### 点击位置

#### js

##### event.changedTouches[0].clientX

###### 利用上面的分辨率获取用户行为

### referrer

#### referrer

##### js

###### document.referrer

####### 分析用户上一步骤

#### hashchange

### 浏览器客户端

#### js

##### web server

###### Nginx.$http_user_agent

### 网站标识

#### js自定义

##### 设置一个有效期为一天的uid为该用户的身份标识

##### 设置一个pid代表当前的项目

##### 获取当前事件作用的元素的基本数据（标识）

###### 位置

###### 元素的id、class

###### 元素的名称

###### 元素的内容

##### 业务

###### 樊总的用户的相关性（埋点id）

####### 判断用户的行为

####### 模块加载时间

####### 接口的出错率

####### 请求的平均时间

####### 用户表单出错

### cookie

#### document.cookie

##### 获取cookie

## 指标

### 业务数据

#### 充值

#### ARPU\ARPPU

#### LTV

#### ROI

### 行为数据

#### 访问路径

#### 点击

#### 停留时长

#### 登录次数

#### 登录天数

### 用户指标

#### pv

#### uv

#### 新增用户

#### 活跃用户

##### DAU（日活跃用户数量）

##### WAU（周活跃用户数量）

##### MAU（月活跃用户数量）

#### 老用户

##### 超过90天为老用户

#### 沉默用户

##### 连续90天没有行为

#### 留存（次日、3日、7日）

##### 留下用户指标

### 性能数据

#### 访问页面性能（页面打开性能&操作响应性能）

#### 不可用时长

#### 事件量

## 展示平台

### 将日志导入数据库，使用脚本语言

#### 每天执行一次

#### 实时

### 配置项目页面生成一个唯一的key值

### gaea展示所有原始数据

### node中间层调用gaea数据提供外部接口

### 可以将逻辑运算放入我们平台定制报表，接口也可以提供给外部

## 分支主题
